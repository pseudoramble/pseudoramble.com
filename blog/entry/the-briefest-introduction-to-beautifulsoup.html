<!DOCTYPE html>
<html lang="en">
 <head>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <link href="../site.css" media="screen" rel="stylesheet" type="text/css"/>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css"/>
  <link href="../rainbow-style.css" rel="stylesheet" type="text/css"/>
  <script src="../rainbow-custom.min.js">
  </script>
  <script src="../../assets/js/analytics.js"></script>
 </head>
 <body>
  <header>
   Pseudo Ramble
  </header>
  <div id="main">
   <article>
    <div class="article-header">
     The Briefest Introduction to BeautifulSoup
    </div>
    <div class="dates">
     <span>
      Published on 2015-07-22
     </span>
     <span>
      Modified on 2015-07-22
     </span>
    </div>
    <p>
     I love using Python's
     <a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/">
      BeautifulSoup
     </a>
     library. It's a frontend to markup parsers that makes doing hack-jobs that I enjoy quite simple. Things such as my website and other things I've been working on use it.
    </p>
    <p>
     For example, on this blog I use it to smash together mark up generated by Markdown into the template I like. In combination with Python, I use it to fill in the list of previous entries that you'll see on the link sections.
    </p>
    <pre><code data-language="python">def add_previous_entries(view, prev_entries):
    for prev_entry in prev_entries:
        with prev_entry.open() as prev_entry_fd:
            prev_soup = BeautifulSoup(prev_entry_fd.read())
            title = prev_soup.find('div', class_='article-header').string

        link = view.new_tag('a', href=prev_entry.name)
        link.string = title

        li = view.new_tag('li')
        li.append(link)

        view.find('ul', class_='previous-entries').append(li)

    return view
</code></pre>
    <p>
     <a href="https://github.com/pseudoramble/pseudoramble.com/blob/master/blog/src/generate_entry.py">
      In the code above
     </a>
     , the 'view' parameter is just the entry being modified. prev-entries are
     <a href="https://docs.python.org/3/library/pathlib.html">
      Path
     </a>
     objects to a set of previous entries to link to. With that, we create a new bowl-o-soup (known as
     <code>
      prev_soup
     </code>
     in this case), and find the title of the entry. (listed under the div  with a class of 'article-header'. We then hook it into the view's list of previous entries with a new link and li, and move on.
    </p>
    <p>
     <a href="https://github.com/pseudoramble/listen-to-railroad-earth/blob/master/src/server/collection/collect.py">
      In another example that's shown below
     </a>
     we can also use it for XML quite easily.
    </p>
    <pre><code data-language="python">def get_show_ids():
    def identifier_strings(tag):
        return tag.has_attr('name') and tag['name'] == 'identifier'

    soup = BeautifulSoup(request.urlopen(SHOW_IDS_URL).read(), "xml")
    show_ids = [x.string for x in soup.find_all(identifier_strings)]

    return show_ids
</code></pre>
    <p>
     This demonstrates using BeautifulSoup to specify what a valid tag to find is via
     <code>
      find
     </code>
     or
     <code>
      find_all
     </code>
     . In this case, I provided a function to look at he name and ensure it has the correct attribute. I then use the
     <code>
      Tag
     </code>
     's
     <code>
      string
     </code>
     attribute to access the text value contained within that node.
    </p>
    <p>
     Of course there is plenty more you can do with BeautifulSoup. I recommend you read
     <a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/">
      the pretty solid set of documentation the library includes
     </a>
     .
    </p>
    <p>
     Now go forth, and commit crimes against markup everywhere!
    </p>
   </article>
   <nav>
    <span class="other-entries-title">
     Other Entries
    </span>
    <ul class="previous-entries" id="previous-entries-list">
     <li>
      <a href="how-I-run-this-blog.html">
       How I Run This Blog
      </a>
     </li>
     <li>
      <a href="diagonol-yer-cube.html">
       I'll Diagonol Yer Cube
      </a>
     </li>
     <li>
      <a href="consider-using-collection-functions.html">
       Consider Using Collection Functions
      </a>
     </li>
     <li>
      <a href="workbench-setup-part-1.html">
       Workbench Setup - Part 1
      </a>
     </li>
     <li>
      <a href="homemade-crunchwraps-a-tutorial.html">
       Homemade Crunchwraps - A Tutorial
      </a>
     </li>
    </ul>
   </nav>
  </div>
 </body>
</html>
